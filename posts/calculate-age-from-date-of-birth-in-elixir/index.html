<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Calculate age from date of birth in Elixir - PETAL Stack</title><link rel=icon type=image/png href=/petal-stack/avatar.png><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Calculate age from date of birth in Elixir"><meta itemprop=description content="A code snippet to calculate age in years from date of birth without using external libraries like Timex"><meta itemprop=datePublished content="2022-04-17T05:42:58+00:00"><meta itemprop=dateModified content="2022-04-17T06:01:33+00:00"><meta itemprop=wordCount content="122"><meta itemprop=keywords content="elixir,date,"><meta property="og:title" content="Calculate age from date of birth in Elixir"><meta property="og:description" content="A code snippet to calculate age in years from date of birth without using external libraries like Timex"><meta property="og:type" content="article"><meta property="og:url" content="https://shirishgoyal.github.io/petal-stack/posts/calculate-age-from-date-of-birth-in-elixir/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-17T05:42:58+00:00"><meta property="article:modified_time" content="2022-04-17T06:01:33+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Calculate age from date of birth in Elixir"><meta name=twitter:description content="A code snippet to calculate age in years from date of birth without using external libraries like Timex"><link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://shirishgoyal.github.io/petal-stack/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://shirishgoyal.github.io/petal-stack/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://shirishgoyal.github.io/petal-stack/css/dark.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://shirishgoyal.github.io/petal-stack/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://shirishgoyal.github.io/petal-stack/><img src=/petal-stack/penguin.png alt="PETAL Stack"></a></div><h1 class=site-title><a href=https://shirishgoyal.github.io/petal-stack/>PETAL Stack</a></h1><div class=site-description><p>A potion of Phoenix, Elixir, Tailwind, Alpine and LiveView</p><nav class="nav social"><ul class=flat><li><a href=/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=# class=scheme-toggle id=scheme-toggle></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/petal-stack/>home</a></li><li><a href=/petal-stack/tags/elixir/>elixir</a></li><li><a href=/petal-stack/tags/phoenix/>phoenix</a></li><li><a href=/petal-stack/tags/alpine/>alpine</a></li><li><a href=/petal-stack/tags>tags</a></li><li><a href=/petal-stack/about>about</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>17</span>
<span class=rest>Apr 2022</span></div></div><div class=matter><h1 class=title>Calculate age from date of birth in Elixir</h1></div></div><div class=markdown><p>Elixir has default modules for Date and Time calculations but lack many functions which are often needed. One of them is calculating age from date of birth. Although 3rd party libraries like Timex do provide some in-built functions to calculate date differences in terms of years, months or days etc., but no such function is directly available for age calculation.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#00f>defmodule</span> <span style=color:#2b91af>Calculator</span> <span style=color:#00f>do</span>
</span></span><span style=display:flex><span>  <span style=color:#00f>def</span> age(dob) <span style=color:#00f>do</span>
</span></span><span style=display:flex><span>    today = <span style=color:#2b91af>Date</span>.utc_today()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:green># birthday is yet to arrive this year</span>
</span></span><span style=display:flex><span>    birthday_pending =
</span></span><span style=display:flex><span>      <span style=color:#00f>if</span> {today.month, today.day} &lt; {dob.month, dob.day}, <span style=color:#a31515>do</span>: 1, <span style=color:#a31515>else</span>: 0
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    age = today.year - dob.year - birthday_pending
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    age
</span></span><span style=display:flex><span>  <span style=color:#00f>end</span>
</span></span><span style=display:flex><span><span style=color:#00f>end</span>
</span></span></code></pre></div><p>Usage is as given below</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#2b91af>Calculator</span>.age(<span style=color:#a31515>~D[1980-09-22]</span>) <span style=color:green># date in format yyyy-mm-dd</span>
</span></span></code></pre></div><p>For today as 17 Apr, 2022, the response will be 41 years</p></div><div class=tags><ul class=flat><li><a href=/petal-stack/tags/elixir>elixir</a></li><li><a href=/petal-stack/tags/date>date</a></li></ul></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="petal-stack",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class="footer wrapper"><nav class=nav><div>2022 Â© Shirish Goyal. All Rights Reserved.</div></nav></div><script>feather.replace()</script></body></html>