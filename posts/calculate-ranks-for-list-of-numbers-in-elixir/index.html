<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Calculate ranks for list of numbers in Elixir - PETAL Stack</title><link rel=icon type=image/png href=/petal-stack/avatar.png><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Calculate ranks for list of numbers in Elixir"><meta itemprop=description content="In a list of N numbers with duplicates allowed, elements can be ranked in ascending or descending order based on their values from 1 to N"><meta itemprop=datePublished content="2022-04-17T14:05:29+00:00"><meta itemprop=dateModified content="2022-04-17T14:18:44+00:00"><meta itemprop=wordCount content="145"><meta itemprop=keywords content="elixir,math,"><meta property="og:title" content="Calculate ranks for list of numbers in Elixir"><meta property="og:description" content="In a list of N numbers with duplicates allowed, elements can be ranked in ascending or descending order based on their values from 1 to N"><meta property="og:type" content="article"><meta property="og:url" content="https://shirishgoyal.github.io/petal-stack/posts/calculate-ranks-for-list-of-numbers-in-elixir/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-17T14:05:29+00:00"><meta property="article:modified_time" content="2022-04-17T14:18:44+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Calculate ranks for list of numbers in Elixir"><meta name=twitter:description content="In a list of N numbers with duplicates allowed, elements can be ranked in ascending or descending order based on their values from 1 to N"><link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://shirishgoyal.github.io/petal-stack/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://shirishgoyal.github.io/petal-stack/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://shirishgoyal.github.io/petal-stack/css/dark.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://shirishgoyal.github.io/petal-stack/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://shirishgoyal.github.io/petal-stack/><img src=/petal-stack/penguin.png alt="PETAL Stack"></a></div><h1 class=site-title><a href=https://shirishgoyal.github.io/petal-stack/>PETAL Stack</a></h1><div class=site-description><p>A potion of Phoenix, Elixir, Tailwind, Alpine and LiveView</p><nav class="nav social"><ul class=flat><li><a href=/index.xml title=RSS><i data-feather=rss></i></a></li><li><a href=# class=scheme-toggle id=scheme-toggle></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/petal-stack/>home</a></li><li><a href=/petal-stack/tags/elixir/>elixir</a></li><li><a href=/petal-stack/tags/phoenix/>phoenix</a></li><li><a href=/petal-stack/tags/alpine/>alpine</a></li><li><a href=/petal-stack/tags>tags</a></li><li><a href=/petal-stack/about>about</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>17</span>
<span class=rest>Apr 2022</span></div></div><div class=matter><h1 class=title>Calculate ranks for list of numbers in Elixir</h1></div></div><div class=markdown><p>In a list of N numbers with duplicates allowed, elements can be ranked in ascending or descending order based on their values from 1 to N. If there are duplicate values, then they are all assigned same rank and corresponding rank values are not used anymore.</p><p>For example:</p><p>Given list = 1, 4, 2, 3, 1</p><p>Ranks (ascending) = 1, 5, 3, 4, 1</p><p>Ranks (descending) = 4, 1, 3, 2, 4</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#00f>defmodule</span> <span style=color:#2b91af>Calculator</span> <span style=color:#00f>do</span>
</span></span><span style=display:flex><span>    <span style=color:#00f>def</span> ranks(values, order \\ <span style=color:#a31515>:desc</span>) <span style=color:#00f>do</span>
</span></span><span style=display:flex><span>        sorted = <span style=color:#2b91af>Enum</span>.sort(values, order)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#2b91af>Enum</span>.map(values, <span style=color:#00f>fn</span> x -&gt;
</span></span><span style=display:flex><span>        index = <span style=color:#2b91af>Enum</span>.find_index(sorted, <span style=color:#00f>fn</span> y -&gt; y == x <span style=color:#00f>end</span>)
</span></span><span style=display:flex><span>        index + 1
</span></span><span style=display:flex><span>        <span style=color:#00f>end</span>)
</span></span><span style=display:flex><span>    <span style=color:#00f>end</span>
</span></span><span style=display:flex><span><span style=color:#00f>end</span>
</span></span></code></pre></div><p>Usage is as given below</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-elixir data-lang=elixir><span style=display:flex><span><span style=color:#2b91af>Calculator</span>.ranks([1, 4, 2, 3, 1])
</span></span><span style=display:flex><span><span style=color:#2b91af>Calculator</span>.ranks([1, 4, 2, 3, 1], <span style=color:#a31515>:desc</span>)
</span></span><span style=display:flex><span><span style=color:#2b91af>Calculator</span>.ranks([1, 4, 2, 3, 1], <span style=color:#a31515>:asc</span>)
</span></span></code></pre></div><p>Response will be</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>[4, 1, 3, 2, 4]
</span></span><span style=display:flex><span>[4, 1, 3, 2, 4]
</span></span><span style=display:flex><span>[1, 5, 3, 4, 1]
</span></span></code></pre></div></div><div class=tags><ul class=flat><li><a href=/petal-stack/tags/elixir>elixir</a></li><li><a href=/petal-stack/tags/math>math</a></li></ul></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="petal-stack",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div><div class="footer wrapper"><nav class=nav><div>2022 Â© Shirish Goyal. All Rights Reserved.</div></nav></div><script>feather.replace()</script></body></html>